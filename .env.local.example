# Detective Game - Environment Variables Example
# Copy this file to .env.local and fill in your actual keys

# ============================================
# REQUIRED FOR PRODUCTION
# ============================================

# Neynar API - For Farcaster user data and validation
# Get your API key at: https://neynar.com/app/api-keys
NEYNAR_API_KEY=your_neynar_api_key_here

# Venice AI API - For bot intelligence and writing style analysis
# Get your API key at: https://venice.ai/settings/api
VENICE_API_KEY=your_venice_api_key_here

# Ably Realtime - For WebSocket chat (recommended for production)
# Get your API key at: https://ably.com/sign-up (Free tier: 200 connections)
ABLY_API_KEY=your_ably_api_key_here

# ============================================
# REDIS (Required for horizontal scaling)
# ============================================

# Option 1: Upstash Redis (Recommended for Vercel/Serverless)
# Get a free Redis instance at: https://upstash.com
# Uses REST API - works perfectly with serverless functions
UPSTASH_REDIS_REST_URL=your_upstash_url_here
UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# Option 2: Traditional Redis URL (for self-hosted or Redis Cloud)
# Get a free Redis instance at: https://redis.com/try-free/
# Format: redis://[[username][:password]@][host][:port][/db-number]
REDIS_URL=redis://localhost:6379

# Enable Redis for state management (set to 'true' for production)
# When 'false', uses in-memory storage (single server only)
# Priority: Upstash REST API > REDIS_URL > In-memory fallback
USE_REDIS=false

# ============================================
# DATABASE (Required for persistence)
# ============================================

# PostgreSQL URL - For match history and leaderboards
# Get a free PostgreSQL instance at: https://neon.tech or https://supabase.com
# Format: postgresql://[user][:password]@[host][:port]/[database]
DATABASE_URL=postgresql://localhost:5432/detective

# Enable database for persistence (set to 'true' for production)
USE_DATABASE=false

# ============================================
# OPTIONAL (Development/Testing)
# ============================================

# Feature Flags
# Enable WebSocket for real-time chat (set to 'true' to use Ably, 'false' for HTTP polling)
# IMPORTANT: Set to 'true' for production to enable real-time chat via Ably
# When 'false', the app falls back to HTTP polling which has higher latency
NEXT_PUBLIC_ENABLE_WEEB_SOCKET=trueNEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=demo_project_id

# ========================================
# üîê ACCESS CONTROL CONFIGURATION
# ========================================
# Master switch - set to 'true' to enable access gating
NEXT_PUBLIC_ACCESS_GATING_ENABLED=false

# === Arbitrum NFT Gating ===
# Set to 'true' to require NFT ownership
NEXT_PUBLIC_ARBITRUM_NFT_ENABLED=false
# Contract address of your NFT (ERC-721)
NEXT_PUBLIC_ARBITRUM_NFT_CONTRACT=""
# Minimum number of NFTs required (usually 1)
NEXT_PUBLIC_ARBITRUM_NFT_MIN_BALANCE=1

# === Monad Token Gating ===
# Set to 'true' to require token ownership
NEXT_PUBLIC_MONAD_TOKEN_ENABLED=false
# Contract address of your token (ERC-20)
NEXT_PUBLIC_MONAD_TOKEN_CONTRACT=""
# Minimum token balance required (in wei, 18 decimals)
# Example: 1000000000000000000 = 1 token
NEXT_PUBLIC_MONAD_TOKEN_MIN_BALANCE=1000000000000000000
# Token decimals (usually 18)
NEXT_PUBLIC_MONAD_TOKEN_DECIMALS=18

# === Whitelist Configuration ===
# Set to 'true' to enable whitelist checking
NEXT_PUBLIC_WHITELIST_ENABLED=false
# Admin override - grants access if verification fails (development)
NEXT_PUBLIC_ADMIN_OVERRIDE=true

# === Manual Whitelist (Comma-separated, no spaces) ===
# Wallet addresses (lowercase)
WHITELISTED_ADDRESSES=""
# Farcaster FIDs
WHITELISTED_FIDS=""

# === RPC URLs ===
NEXT_PUBLIC_ARBITRUM_RPC_URL="https://arb1.arbitrum.io/rpc"
NEXT_PUBLIC_MONAD_RPC_URL="https://mainnet.base.org"

# === Admin Access ===
ADMIN_SECRET="your_admin_secret_here"

# ========================================
# üöÄ QUICK ACTIVATION EXAMPLES
# ========================================

# To enable NFT gating on Arbitrum:
# NEXT_PUBLIC_ACCESS_GATING_ENABLED=true
# NEXT_PUBLIC_ARBITRUM_NFT_ENABLED=true
# NEXT_PUBLIC_ARBITRUM_NFT_CONTRACT=0xYourNFTContractAddress

# To enable token gating on Monad:
# NEXT_PUBLIC_ACCESS_GATING_ENABLED=true
# NEXT_PUBLIC_MONAD_TOKEN_ENABLED=true
# NEXT_PUBLIC_MONAD_TOKEN_CONTRACT=0xYourTokenContractAddress

# Or use the quick script:
# node scripts/activate-access-gating.js nft
# node scripts/activate-access-gating.js token
# node scripts/activate-access-gating.js both
# node scripts/activate-access-gating.js off
